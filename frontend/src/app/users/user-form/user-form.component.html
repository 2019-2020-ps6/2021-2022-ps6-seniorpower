<div class="card">
  <form class="user-form" [formGroup]="userForm">
    <h1>Créer un utilisateur</h1>
    <label class="line" for="name">
       <span class="outer">
      <h2><i class="fa fa-user">
        Nom d'utilisateur</i></h2>
      <input class="input-custom" type = "text" id="name"   name="authentification" formControlName="name">
      <div *ngIf="submitted && f['name'].errors" >
        <div *ngIf="f['name'].errors['required']">Nom d'utilisateur requis<br></div>
        <div *ngIf="f['name'].errors['validUsername']">Nom d'utilisateur dejas pris<br></div>
    </div>
    <div *ngIf="submitted && already" >
      <div>Nom d'utilisateur déjà pris<br></div>
  </div>
       </span>
    </label>

    <label class="line" for="mdp">
       <span class="outer">
      <h2><i class="fa fa-lock">
        Mot de passe</i></h2>
      <input class="input-custom" type = "password" id="mdp"  name="authentification" formControlName="password">
        <div *ngIf="submitted && f['password'].errors" >
          <div *ngIf="f['password'].errors['required']">Mot de passe requis<br></div>
      </div>
       </span>
    </label>

    <label class="line" for="illness">
      <span class="outer">
      <h2><i class="fa fa-glasses">
        Maladie</i></h2>
      <select class="input-custom" type = "text" name="authentification"   formControlName="maladie" id="illness" >
        <option *ngFor = "let illness of getAllIllness()" [value]="illness" [selected]="illness === currentIllness" >
          {{illness}}
        </option>
      </select>
      <div *ngIf="submitted && f['maladie'].errors" >
        <div *ngIf="f['maladie'].errors['required']">Maladie requis<br></div>
      </div>
      </span>
    </label>

    <label class="line" for="daltonisme">
       <span class="outer">
      <h2><i class="fa fa-palette">
        Type de Daltonisme</i></h2>
      <select class="input-custom" type = "text" name="authentification" id="daltonisme" formControlName="daltonisme">
        <option *ngFor = "let color of getAllColors()" [selected]="color === currentColor" [value]="color" >
          {{color}}
        </option>
      </select>
      <div *ngIf="submitted && f['daltonisme'].errors" >
        <div *ngIf="f['daltonisme'].errors['required']">Daltonisme requis<br></div>
    </div>
       </span>
    </label>

    <button type="submit"  id="submit" class="button2 pulse"  (click)="addUser()" >
      <span>Créer</span>
    </button>
  </form>
</div>
<br>
<span class="create" *ngIf="this.userForm.invalid===false && created " >Utilisateur Créé !</span>

<!-- Uncomment below to see your form structure and how it changes
<br><br>{{quizForm.getRawValue() | json}}-->
